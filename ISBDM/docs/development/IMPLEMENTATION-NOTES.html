<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-development/IMPLEMENTATION-NOTES" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Implementation Notes | ISBD for Manifestation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://iflastandards.github.io/standards-dev/ISBDM/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://iflastandards.github.io/standards-dev/ISBDM/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://iflastandards.github.io/standards-dev/ISBDM/docs/development/IMPLEMENTATION-NOTES"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Implementation Notes | ISBD for Manifestation"><meta data-rh="true" name="description" content="This document captures key implementation details, design decisions, and solutions developed during the ISBDM project. Each section represents a specific feature or pattern that has been implemented successfully."><meta data-rh="true" property="og:description" content="This document captures key implementation details, design decisions, and solutions developed during the ISBDM project. Each section represents a specific feature or pattern that has been implemented successfully."><link data-rh="true" rel="icon" href="/standards-dev/ISBDM/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://iflastandards.github.io/standards-dev/ISBDM/docs/development/IMPLEMENTATION-NOTES"><link data-rh="true" rel="alternate" href="https://iflastandards.github.io/standards-dev/ISBDM/docs/development/IMPLEMENTATION-NOTES" hreflang="en"><link data-rh="true" rel="alternate" href="https://iflastandards.github.io/standards-dev/ISBDM/docs/development/IMPLEMENTATION-NOTES" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/standards-dev/ISBDM/blog/rss.xml" title="ISBD for Manifestation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/standards-dev/ISBDM/blog/atom.xml" title="ISBD for Manifestation Atom Feed"><link rel="stylesheet" href="/standards-dev/ISBDM/assets/css/styles.6a0ade04.css">
<script src="/standards-dev/ISBDM/assets/js/runtime~main.84135743.js" defer="defer"></script>
<script src="/standards-dev/ISBDM/assets/js/main.99f445eb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/standards-dev/ISBDM/img/logo-ifla_black.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_ioIY" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_TtOz" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_QFk4 announcementBarContent_zFAM">⭐️ This is an active development site for IFLA standards ⭐️</div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/standards-dev/ISBDM/"><div class="navbar__logo"><img src="/standards-dev/ISBDM/img/logo-ifla_black.png" alt="IFLA Logo" class="themedComponent_hx2_ themedComponent--light_YWIt"><img src="/standards-dev/ISBDM/img/logo-ifla_black.png" alt="IFLA Logo" class="themedComponent_hx2_ themedComponent--dark_iClM"></div><b class="navbar__title text--truncate">ISBD for Manifestation</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Instructions</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/intro">Introduction</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/assess">Assessment</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/glossary">Glossary</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/fullex">Examples</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Elements</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/statements">Statements</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/notes">Notes</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/attributes">Attributes</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/relationships/index">Relationships</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Values</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/ves">Value Vocabularies</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/ves/ISBDMSES">String Encodings Schemes</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">About</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/about">About ISBDM</a></li><li><a class="dropdown__link" href="/standards-dev/ISBDM/docs/about/docusaurus-for-ifla">Modern Documentation Platform</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Standards</a><ul class="dropdown__menu"><li><a href="https://iflastandards.github.io/standards-dev/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Portal Home<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://iflastandards.github.io/standards-dev/isbd/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ISBD<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://iflastandards.github.io/standards-dev/LRM/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LRM<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://iflastandards.github.io/standards-dev/unimarc/" target="_blank" rel="noopener noreferrer" class="dropdown__link">UNIMARC<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://iflastandards.github.io/standards-dev/fr/" target="_blank" rel="noopener noreferrer" class="dropdown__link">FRBR<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://iflastandards.github.io/standards-dev/muldicat/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Muldicat<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/standards-dev/ISBDM/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/standards-dev/ISBDM/docs/development/IMPLEMENTATION-NOTES">Latest</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_4Ec7"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/standards-dev/ISBDM/docs/development/IMPLEMENTATION-NOTES" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="navbarSearchContainer_qAFP"><div class="navbar__search searchBarContainer_Ov9u" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_TgNZ" value=""><div class="loadingRing_FA0Q searchBarLoadingRing_Hqez"><div></div><div></div><div></div><div></div></div></div></div><div class="toggle_Kw2m colorModeToggle_dmzz"><button class="clean-btn toggleButton_gyi8 toggleButtonDisabled_fYU2" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_xK3l lightToggleIcon_jLnZ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_xK3l darkToggleIcon_Z1Zr"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_xK3l systemToggleIcon_tFKw"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_zgs7"><div class="docsWrapper_uRpL"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_whJT" type="button"></button><div class="docRoot_lbyl"><main class="docMainContainer_EfVE docMainContainerEnhanced_VHm8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ImYP"><div class="docItemContainer__gQP"><article><div class="tocCollapsible_QwLC theme-doc-toc-mobile tocMobile_Ivcs"><button type="button" class="clean-btn tocCollapsibleButton_Qeic">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Implementation Notes</h1></header>
<p>This document captures key implementation details, design decisions, and solutions developed during the ISBDM project. Each section represents a specific feature or pattern that has been implemented successfully.</p>
<h2 class="anchor anchorWithStickyNavbar_GJeG" id="project-overview">Project Overview<a href="#project-overview" class="hash-link" aria-label="Direct link to Project Overview" title="Direct link to Project Overview">​</a></h2>
<p>The ISBDM (International Standard Bibliographic Description for Manifestation) project is not just a documentation site but a complete workflow and toolchain for creating, maintaining, and publishing RDF vocabularies. Key aspects include:</p>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="project-context-for-isbdm">Project Context for ISBDM<a href="#project-context-for-isbdm" class="hash-link" aria-label="Direct link to Project Context for ISBDM" title="Direct link to Project Context for ISBDM">​</a></h3>
<p>For this specific project, the working group responsible for ISBDM started with the traditional process and created both the spreadsheet and HTML documentation independently. This HTML documentation (located in the ISBDM folder) serves as our prototype for designing the Docusaurus version. Since the content and design have already been approved by the working group, our conversion must be:</p>
<ul>
<li><strong>Visually Similar</strong>: Maintain the same look and feel as the original</li>
<li><strong>Semantically Lossless</strong>: Preserve all meaning and relationships</li>
<li><strong>Structurally Enhanced</strong>: While changing the underlying implementation completely</li>
</ul>
<p>This situation presents unique requirements for the development process, as we must balance fidelity to the approved design with the implementation of our new RDF-focused workflow.</p>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="workflow-and-lifecycle">Workflow and Lifecycle<a href="#workflow-and-lifecycle" class="hash-link" aria-label="Direct link to Workflow and Lifecycle" title="Direct link to Workflow and Lifecycle">​</a></h3>
<ol>
<li><strong>Initial Development</strong>: Vocabularies begin as spreadsheets for drafting and review</li>
<li><strong>Formal Approval</strong>: Working group reviews and approves vocabularies</li>
<li><strong>Documentation Creation</strong>: Approved vocabularies are scaffolded into MDX with RDF in front matter</li>
<li><strong>Ongoing Maintenance</strong>: Working group transitions to documentation development</li>
<li><strong>RDF Publication</strong>: CI/CD extracts and validates RDF from front matter into formal vocabularies</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h3>
<ul>
<li><strong>Component-Driven Display</strong>: Reusable React components render RDF data from front matter</li>
<li><strong>Templates</strong>: Non-technical editors can create elements using templates with standardized front matter</li>
<li><strong>Global Defaults</strong>: Reduce duplication and maintain consistency</li>
<li><strong>CI/CD Pipeline</strong>: GitHub Actions for RDF extraction, validation, and publication</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="versioning-strategy">Versioning Strategy<a href="#versioning-strategy" class="hash-link" aria-label="Direct link to Versioning Strategy" title="Direct link to Versioning Strategy">​</a></h3>
<ul>
<li><strong>RDF Versioning</strong>: Semantic versioning with AI recommendations</li>
<li><strong>Documentation Versioning</strong>: Date-based, independent of RDF versioning</li>
<li><strong>Translation Versioning</strong>: Language-specific metadata tracking translation status</li>
<li><strong>Release Management</strong>: English primary, translations follow English releases</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="upcoming-development">Upcoming Development<a href="#upcoming-development" class="hash-link" aria-label="Direct link to Upcoming Development" title="Direct link to Upcoming Development">​</a></h3>
<ul>
<li><strong>DCTAP Profiles</strong>: Will control vocabulary structure, front matter, and validation</li>
<li><strong>Validation Tools</strong>: Ensure consistency across RDF elements</li>
<li><strong>Enhanced Publishing</strong>: Automated release management</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_GJeG" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2>
<ul>
<li><a href="#global-component-defaults">Global Component Defaults</a></li>
<li><a href="#image-size-module-fix">Image Size Module Fix</a></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_GJeG" id="global-component-defaults">Global Component Defaults<a href="#global-component-defaults" class="hash-link" aria-label="Direct link to Global Component Defaults" title="Direct link to Global Component Defaults">​</a></h2>
<p><strong>Date: 2025-05-11</strong></p>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<p>We implemented a system for providing global default values to components via Docusaurus&#x27;s <code>customFields</code> configuration. This reduces duplication in front matter across similar content types while maintaining the ability to override any value when needed.</p>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="implementation-details">Implementation Details<a href="#implementation-details" class="hash-link" aria-label="Direct link to Implementation Details" title="Direct link to Implementation Details">​</a></h3>
<ol>
<li>
<p><strong>Configuration in docusaurus.config.ts</strong>:</p>
<div class="language-typescript codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-typescript codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// docusaurus.config.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ... other config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  customFields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vocabularyDefaults</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      prefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;isbdm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      startCounter</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uriStyle</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;numeric&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      caseStyle</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;kebab-case&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      showFilter</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      filterPlaceholder</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Filter vocabulary terms...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      showTitle</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token constant" style="color:#36acaa">RDF</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&quot;rdf:type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;skos:ConceptScheme&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Access in Components</strong>:</p>
<div class="language-typescript codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-typescript codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> useDocusaurusContext </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@docusaurus/useDocusaurusContext&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Get site config for default values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> siteConfig </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDocusaurusContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> defaults </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> siteConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">customFields</span><span class="token operator" style="color:#393A34">?.</span><span class="token plain">vocabularyDefaults </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Merge props with defaults, prioritizing props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> resolvedPrefix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prefix </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> defaults</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prefix </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;hardcoded-fallback&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Use resolved values in rendering</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Handle Static Methods</strong>:
For static methods that can&#x27;t use React hooks, access defaults via <code>window.__DOCUSAURUS__</code>:</p>
<div class="language-typescript codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-typescript codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Static method</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MyComponent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function-variable function" style="color:#d73a49">staticMethod</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> defaults </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> window </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;undefined&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__DOCUSAURUS__ </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__DOCUSAURUS__</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">siteConfig </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__DOCUSAURUS__</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">siteConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">customFields</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    defaults </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__DOCUSAURUS__</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">siteConfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">customFields</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vocabularyDefaults </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Use defaults...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>TypeScript Support</strong>:</p>
<div class="language-typescript codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-typescript codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// TypeScript declaration for window.__DOCUSAURUS__</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">declare</span><span class="token plain"> global </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">Window</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __DOCUSAURUS__</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      siteConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        customFields</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          vocabularyDefaults</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            prefix</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// other properties...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="testing-approach">Testing Approach<a href="#testing-approach" class="hash-link" aria-label="Direct link to Testing Approach" title="Direct link to Testing Approach">​</a></h3>
<p>We created comprehensive tests to verify the defaults system:</p>
<ol>
<li><strong>Test with Site Defaults</strong>: Mock <code>useDocusaurusContext</code> to return configured defaults</li>
<li><strong>Test with No Site Defaults</strong>: Test fallback to hardcoded values</li>
<li><strong>Test Property Overriding</strong>: Verify that props correctly override defaults</li>
<li><strong>Test Real-World Examples</strong>: Test with actual content examples</li>
</ol>
<p>Example test suite:</p>
<ul>
<li><code>/src/tests/components/VocabularyTableDefaults.test.tsx</code></li>
<li><code>/src/tests/components/VocabularyTableNoDefaults.test.tsx</code></li>
<li><code>/src/tests/components/VocabularyTableRealExamples.test.tsx</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="usage-examples">Usage Examples<a href="#usage-examples" class="hash-link" aria-label="Direct link to Usage Examples" title="Direct link to Usage Examples">​</a></h3>
<p><strong>Before</strong> - Requiring all properties in front matter:</p>
<div class="language-mdx codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-mdx codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vocabularyId: &quot;1275&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">title: &quot;My Vocabulary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prefix: &quot;isbdm&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">startCounter: 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uriStyle: &quot;numeric&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">caseStyle: &quot;kebab-case&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">showFilter: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filterPlaceholder: &quot;Filter vocabulary terms...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">showTitle: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RDF:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rdf:type: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - skos:ConceptScheme</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  values:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - value: term1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      definition: Definition of term</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span></code></pre></div></div>
<p><strong>After</strong> - Using defaults:</p>
<div class="language-mdx codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-mdx codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vocabularyId: &quot;1275&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">title: &quot;My Vocabulary&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RDF:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  values:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - value: term1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      definition: Definition of term</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="documentation">Documentation<a href="#documentation" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h3>
<ul>
<li><code>COMPONENT-DEFAULTS.md</code>: Detailed explanation of the pattern</li>
<li><code>docs/examples/VocabularyTable.mdx</code>: Updated component documentation</li>
<li><code>docs/examples/MinimalVocabulary.mdx</code>: Example using defaults</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_GJeG" id="image-size-module-fix">Image Size Module Fix<a href="#image-size-module-fix" class="hash-link" aria-label="Direct link to Image Size Module Fix" title="Direct link to Image Size Module Fix">​</a></h2>
<p><strong>Date: 2025-05-11</strong></p>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="problem">Problem<a href="#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">​</a></h3>
<p>We encountered an issue with the <code>image-size</code> module when using Yarn Berry in PnP mode:</p>
<div class="language-text codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-text codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token plain">TypeError [ERR_INVALID_ARG_TYPE]: The &quot;buffer&quot; argument must be an instance of Buffer, TypedArray, or DataView. Received an instance of ArrayBuffer</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="solution">Solution<a href="#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">​</a></h3>
<p>The simplest solution was to switch from Yarn Berry&#x27;s PnP mode to the traditional node_modules resolution strategy:</p>
<ol>
<li>
<p>Create <code>.yarnrc.yml</code> in the project root:</p>
<div class="language-yaml codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-yaml codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">nodeLinker</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">modules</span><br></span></code></pre></div></div>
</li>
<li>
<p>Reinstall dependencies:</p>
<div class="language-bash codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-bash codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token plain">yarn</span><br></span></code></pre></div></div>
</li>
<li>
<p>Update <code>package.json</code> scripts to use standard Docusaurus commands:</p>
<div class="language-json codeBlockContainer_Ynjn theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fKXQ"><pre tabindex="0" class="prism-code language-json codeBlock_VQLf thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_WWNE"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;start&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docusaurus start&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docusaurus build&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;start:patched&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;node start-patched.js&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;build:patched&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;node build-patched.js&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="root-cause-analysis">Root Cause Analysis<a href="#root-cause-analysis" class="hash-link" aria-label="Direct link to Root Cause Analysis" title="Direct link to Root Cause Analysis">​</a></h3>
<ul>
<li>Yarn Berry&#x27;s PnP mode uses a custom module resolution system that affects Node.js internals</li>
<li>The <code>image-size</code> module uses Node.js filesystem operations with binary data (Buffers/ArrayBuffers)</li>
<li>In PnP mode, there&#x27;s a compatibility issue between ArrayBuffer and Buffer conversions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="alternative-approaches-not-used">Alternative Approaches (Not Used)<a href="#alternative-approaches-not-used" class="hash-link" aria-label="Direct link to Alternative Approaches (Not Used)" title="Direct link to Alternative Approaches (Not Used)">​</a></h3>
<p>We attempted several patches before finding the simpler solution:</p>
<ul>
<li><code>buffer-patch.js</code>: Enhanced Buffer.from to handle ArrayBuffers</li>
<li><code>filehandle-patch.js</code>: Patched FileHandle.read for ArrayBuffer conversion</li>
<li><code>image-size-direct-patch.js</code>: Direct interception of the image-size module</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_GJeG" id="documentation-1">Documentation<a href="#documentation-1" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h3>
<p>See <code>IMAGE-SIZE-FIX.md</code> for detailed explanation.</p>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/iflastandards/ISBDM/tree/main/docs/development/IMPLEMENTATION-NOTES.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_oiOL" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_d8Zk"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-06-16T18:01:16.000Z" itemprop="dateModified">Jun 16, 2025</time></b> by <b>Jon Phipps</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_gxaj thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview" class="table-of-contents__link toc-highlight">Project Overview</a><ul><li><a href="#project-context-for-isbdm" class="table-of-contents__link toc-highlight">Project Context for ISBDM</a></li><li><a href="#workflow-and-lifecycle" class="table-of-contents__link toc-highlight">Workflow and Lifecycle</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#versioning-strategy" class="table-of-contents__link toc-highlight">Versioning Strategy</a></li><li><a href="#upcoming-development" class="table-of-contents__link toc-highlight">Upcoming Development</a></li></ul></li><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#global-component-defaults" class="table-of-contents__link toc-highlight">Global Component Defaults</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">Implementation Details</a></li><li><a href="#testing-approach" class="table-of-contents__link toc-highlight">Testing Approach</a></li><li><a href="#usage-examples" class="table-of-contents__link toc-highlight">Usage Examples</a></li><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a></li></ul></li><li><a href="#image-size-module-fix" class="table-of-contents__link toc-highlight">Image Size Module Fix</a><ul><li><a href="#problem" class="table-of-contents__link toc-highlight">Problem</a></li><li><a href="#solution" class="table-of-contents__link toc-highlight">Solution</a></li><li><a href="#root-cause-analysis" class="table-of-contents__link toc-highlight">Root Cause Analysis</a></li><li><a href="#alternative-approaches-not-used" class="table-of-contents__link toc-highlight">Alternative Approaches (Not Used)</a></li><li><a href="#documentation-1" class="table-of-contents__link toc-highlight">Documentation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/standards-dev/ISBDM/docs/development/rdf">RDF Downloads</a></li><li class="footer__item"><a class="footer__link-item" href="/standards-dev/ISBDM/sitemap">Sitemap</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.ifla.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IFLA Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.ifla.org/programmes/ifla-standards/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IFLA Standards<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/standards-dev/ISBDM/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/iflastandards/standards-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_kOuv"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        Copyright © 2025 International Federation of Library Associations and Institutions (IFLA)<br>
        <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">
          <img src="img/cc0_by.png" alt="My Logo Alt Text" style="vertical-align:middle; height:24px;">
        </a>
        Gordon Dunsire and Mirna Willer (Main design and content editors).
      </div></div></div></footer></div>
</body>
</html>